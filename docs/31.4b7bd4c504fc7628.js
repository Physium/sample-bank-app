"use strict";(self.webpackChunkui_bank_updated=self.webpackChunkui_bank_updated||[]).push([[31],{31:(T,g,l)=>{l.r(g),l.d(g,{ProfileModuleModule:()=>P});var c=l(6895),m=l(9299),e=l(4650);let f=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile-landing"]],decls:1,vars:0,template:function(r,n){1&r&&e._UZ(0,"router-outlet")},dependencies:[m.lC]}),t})();var u=l(193),p=l(8613);function h(t,o){if(1&t&&(e.TgZ(0,"div")(1,"label",9),e._uU(2),e.qZA(),e.TgZ(3,"h5",15)(4,"strong"),e._uU(5),e.qZA()(),e._UZ(6,"br"),e.qZA()),2&t){const r=o.$implicit,n=e.oxw();e.xp6(2),e.Oqu(n.userTemplate[r]),e.xp6(3),e.Oqu(n.currentUser[r])}}function _(t,o){if(1&t&&(e.TgZ(0,"div")(1,"h5",15)(2,"strong"),e._uU(3),e.qZA()()()),2&t){const r=e.oxw();e.xp6(3),e.Oqu(r.currentUser.age)}}function v(t,o){1&t&&(e.TgZ(0,"h5",15)(1,"strong"),e._uU(2,"N/A"),e.qZA()())}let b=(()=>{class t{constructor(r,n){this.userService=r,this.router=n,this.currentUser=new u.n,this.userTemplate={username:"Username",firstName:"First Name",lastName:"Last Name",email:"Email",id:" User ID"},this.userData=new Map}ngOnInit(){this.userService.test();var r=localStorage.getItem("userId")??"";console.log(r),this.userService.getUserDetails(r).subscribe({next:n=>{this.currentUser=n,console.log(this.currentUser)},error:n=>{console.log(n)}})}GetUserDetails(){Object.keys(this.userTemplate).forEach(r=>{this.userData.set(this.userTemplate[r],this.currentUser[r])})}GetUserTemplateKeys(){return Object.keys(this.userTemplate)}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(p.K),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:19,vars:4,consts:[[1,"profile-container"],[1,"bottom-space","card","shadow-sm"],[1,"card-header","container"],[1,"row"],[1,"text-white","header"],[1,"text-white","small-text"],[1,"profile-info-container","card-body"],[1,"profile-detail-container"],[4,"ngFor","ngForOf"],[1,"small-text"],[4,"ngIf","ngIfElse"],["class","text-center"],["noAge",""],[1,"profile-photo-container"],["height","200px","src","../../../../assets/images/updated-images/user  human man woman people individual.svg",1,"profile-picture"],[1,"text-white"]],template:function(r,n){if(1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5),e.qZA()(),e.TgZ(6,"div",3)(7,"h3",5),e._uU(8,"Please find below your profile details"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7),e.YNc(11,h,7,2,"div",8),e.TgZ(12,"label",9),e._uU(13,"Age"),e.qZA(),e.YNc(14,_,4,1,"div",10),e.YNc(15,v,3,0,"ng-template",11,12,e.W1O),e.qZA(),e.TgZ(17,"div",13),e._UZ(18,"img",14),e.qZA()()()()),2&r){const a=e.MAs(16);e.xp6(5),e.hij("Hello ",n.currentUser.firstName,"!"),e.xp6(6),e.Q6J("ngForOf",n.GetUserTemplateKeys()),e.xp6(3),e.Q6J("ngIf",null!=n.currentUser.age)("ngIfElse",a)}},dependencies:[c.sg,c.O5],styles:[".card-header[_ngcontent-%COMP%]{margin-top:2rem;border:transparent;display:grid;justify-content:center;align-items:center;border-top-left-radius:10px;border-top-right-radius:10px;background-color:transparent}.header[_ngcontent-%COMP%]{font-size:xxx-large;font-weight:500}.row[_ngcontent-%COMP%]{text-align:center}.card[_ngcontent-%COMP%]{padding:0 3rem;background-image:url(/sample-bank-app/Main_banner_3.d2101a259bd1a2dd.png)}.profile-container[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;margin:3em 0;padding:2em}.info-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:center;align-items:stretch;padding:2em}.form-group[_ngcontent-%COMP%]{flex:0 1 50em}.form-button[_ngcontent-%COMP%]{flex:0 1 30em;margin-top:2em}.profile-image[_ngcontent-%COMP%]{margin-top:2em}.image-block[_ngcontent-%COMP%]{padding:7em 0}.profile-info-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:flex-start;margin:1em 0;padding:3em}.profile-detail-container[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;align-items:top;justify-content:space-between}.profile-photo-container[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:top;justify-content:space-between;height:100%}.profile-picture[_ngcontent-%COMP%]{background-color:#fff;border-radius:50%}.bottom-space[_ngcontent-%COMP%]{margin-bottom:3em}@media (max-width: 767px){.card[_ngcontent-%COMP%]{padding:1rem}.header[_ngcontent-%COMP%]{font-size:1.5rem}.small-text[_ngcontent-%COMP%]{font-size:.9rem}.profile-container[_ngcontent-%COMP%]{margin:1rem 0;padding:1rem}.profile-info-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;padding:1rem}.profile-detail-container[_ngcontent-%COMP%]{margin:.5rem 0}.profile-photo-container[_ngcontent-%COMP%]{justify-content:center;margin-top:1rem}.profile-picture[_ngcontent-%COMP%]{width:100%;max-width:200px;height:auto;border-radius:50%}}"]}),t})();var s=l(4006);function C(t,o){1&t&&(e.TgZ(0,"div",30),e._UZ(1,"img",31),e.qZA())}function M(t,o){1&t&&(e.TgZ(0,"div",30),e._UZ(1,"img",32),e.qZA())}const Z=[{path:"",component:f,children:[{path:"",component:b},{path:"edit-profile",component:(()=>{class t{constructor(r,n,a){this._location=r,this.userService=n,this.router=a,this.currentUser=new u.n}ngOnInit(){this.userService.test(),this.userService.test(),localStorage.getItem("sessionToken");var n=localStorage.getItem("userId")??"";console.log("profile user ID: "+n),this.userService.getUserDetails(n).subscribe({next:a=>{this.currentUser=a,console.log(this.currentUser)},error:a=>{console.log(a)}})}backButton(){this._location.back()}updateUserInfo(r){this.userService.updateUserDetails(this.currentUser).subscribe({next:n=>{this.response=n,console.log("HTTP response",n),console.log("successful update"),this.router.navigate(["userProfile"])},error:n=>{console.log("HTTP Error",n),this.httpError=n,console.log(this.httpError.error.error.message),alert(this.httpError.error.error.message),console.log("failed updating")},complete:()=>console.log("Http request completed")})}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(c.Ye),e.Y36(p.K),e.Y36(m.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-profile"]],decls:53,vars:8,consts:[[1,"card","shadow-sm"],[1,"card-header"],[2,"cursor","pointer",3,"click"],[1,"text-white"],[1,"sm-spacer"],[2,"overflow","hidden","margin-top","auto","margin-bottom","auto"],[1,"container"],[1,"vertical-center","d-inline","text-left",2,"float","left","margin-top","auto","margin-bottom","auto"],[1,"text-white","vertical-center"],[1,"card-body"],[1,"row"],[1,"col-8"],[1,"form-box",3,"ngSubmit"],["updateUserForm","ngForm"],[1,"form-group"],["for","username"],["type","text","id","username","aria-describedby","username","name","username","placeholder","Enter new username",1,"form-control",3,"ngModel","ngModelChange"],["for","middleName"],["type","text","id","middleName","aria-describedby","this.currentUser.middleName","name","middleName","placeholder","Enter first name",1,"form-control",3,"ngModel","ngModelChange"],["for","lastName"],["type","text","id","lastName","aria-describedby","lastName","name","lastName","placeholder","Enter last name",1,"form-control",3,"ngModel","ngModelChange"],["for","email"],["type","text","id","age","name","email","aria-describedby","email","placeholder","Enter email",1,"form-control",3,"ngModel","ngModelChange"],["for","age"],[1,"text-gray"],["type","number","id","age","disabled","","aria-describedby","age","name","age","placeholder","Please enter your age formatted as (MM/DD/YY)",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-xl","btn-blue"],["type","button",1,"btn","btn-xl","btn-outline-secondary",2,"margin-left","20px",3,"click"],[1,"col-4"],["class","vertical-center",4,"ngIf"],[1,"vertical-center"],["height","200px","src","../../../../assets/images/icons/father.png",1,"vertical-center"],["height","200px","src","../../../../assets/images/icons/mother.png",1,"vertical-center"]],template:function(r,n){if(1&r){const a=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"a",2),e.NdJ("click",function(){return n.backButton()}),e.TgZ(4,"strong",3),e._uU(5," < "),e.qZA()()(),e._UZ(6,"div",4),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"h3",8),e._uU(11),e.qZA(),e.TgZ(12,"h3",8),e._uU(13,"Edit Your Profile Details:"),e.qZA()()()(),e._UZ(14,"div",4),e.qZA(),e.TgZ(15,"div",9)(16,"div",6)(17,"div",10)(18,"div",11)(19,"form",12,13),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.MAs(20);return e.KtG(n.updateUserInfo(i))}),e.TgZ(21,"div",14)(22,"label",15),e._uU(23,"Username"),e.qZA(),e.TgZ(24,"input",16),e.NdJ("ngModelChange",function(i){return n.currentUser.username=i}),e.qZA()(),e.TgZ(25,"div",14)(26,"label",17),e._uU(27,"First Name"),e.qZA(),e.TgZ(28,"input",18),e.NdJ("ngModelChange",function(i){return n.currentUser.middleName=i}),e.qZA()(),e.TgZ(29,"div",14)(30,"label",19),e._uU(31,"Last Name"),e.qZA(),e.TgZ(32,"input",20),e.NdJ("ngModelChange",function(i){return n.currentUser.lastName=i}),e.qZA()(),e.TgZ(33,"div",14)(34,"label",21),e._uU(35,"Email"),e.qZA(),e.TgZ(36,"input",22),e.NdJ("ngModelChange",function(i){return n.currentUser.email=i}),e.qZA()(),e.TgZ(37,"div",14)(38,"label",23),e._uU(39,"Age "),e.TgZ(40,"span",24),e._uU(41,"(MM/DD/YY)"),e.qZA()(),e.TgZ(42,"input",25),e.NdJ("ngModelChange",function(i){return n.currentUser.age=i}),e.qZA()(),e._UZ(43,"div",4),e.TgZ(44,"button",26),e._uU(45," Save Changes "),e.qZA(),e.TgZ(46,"button",27),e.NdJ("click",function(){return n.backButton()}),e._uU(47," Cancel "),e.qZA(),e._UZ(48,"div",4),e.qZA()(),e.TgZ(49,"div",28),e.YNc(50,C,2,0,"div",29),e.YNc(51,M,2,0,"div",29),e.qZA()()()()(),e._UZ(52,"div",4)}2&r&&(e.xp6(11),e.hij(" Hello ",n.currentUser.firstName,"! "),e.xp6(13),e.Q6J("ngModel",n.currentUser.username),e.xp6(4),e.Q6J("ngModel",n.currentUser.middleName),e.xp6(4),e.Q6J("ngModel",n.currentUser.lastName),e.xp6(4),e.Q6J("ngModel",n.currentUser.email),e.xp6(6),e.Q6J("ngModel",n.currentUser.age),e.xp6(8),e.Q6J("ngIf","male"==n.currentUser.gender),e.xp6(1),e.Q6J("ngIf","female"==n.currentUser.gender))},dependencies:[c.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F],styles:[".btn-outline-secondary[_ngcontent-%COMP%]{padding:10px 20px;border-radius:10px;border-width:3px}"]}),t})()}]}];let U=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(Z),m.Bz]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,s.u5,U]}),t})()}}]);